<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sitetack</title>
    <!-- Include Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Optional: include a custom CSS file to further customize your site -->
    <link rel="stylesheet" href="/frontend/style.css">
</head>
<body class="bg-light">
    <div class="container py-5">
        <h2 class="mb-4">Submit Protein Sequence for Prediction</h2>
        <form id="predictionForm">
            <div class="form-group">
                <label for="ptm">Post-Translational Modification (PTM):</label>
                <select name="ptm" id="ptm" class="form-control">
                    <!-- Dynamically added Ptm options will appear here -->
                </select>
                <div id="ptm_description" class="form-text">
                    <!-- Description will be displayed here -->
                </div>
            </div>
            
            <div class="form-group">
                <label for="label">Label:</label>
                <select name="label" id="label" class="form-control">
                    <!-- Dynamically added Label options will appear here -->
                </select>
                <div id="label_description" class="form-text">
                    <!-- Description will be displayed here -->
                </div>
            </div>

            <div class="form-group">
                <label for="organism">Organism:</label>
                <select name="organism" id="organism" class="form-control">
                    <!-- Dynamically added Organism options will appear here -->
                </select>
                <div id="organism_description" class="form-text">
                    <!-- Description will be displayed here -->
                </div>
            </div>
            
            <div class="form-group">
                <label for="text">Protein Sequence (FASTA format):</label>
                <span id="loadExampleLink" style="text-decoration: underline; color: blue; cursor: pointer;">Load Example</span>
                <textarea name="text" id="text" rows="4" class="form-control"></textarea>
            </div>
            
            <button type="button" class="btn btn-primary" onclick="submitData()">Submit</button>
        </form>

        <h3 class="mt-5">Prediction Results:</h3>

        <div id="downloadButtonsContainer" class="d-inline-block "></div>

        <div id="thresholdControl" class="mt-3">
            <label for="threshold">Highlighting Threshold: <span id="thresholdValue">0.5</span></label>
            <input type="range" id="threshold" name="threshold" class="custom-range" min="0" max="1" step="0.01" value="0.5">
            
        </div>
        
        <pre id="results"></pre>
        <h4>Reference</h4>
        <p>Gutierrez, C. S.; Kassim, A. A.; Gutierrez, B. D.; Raines, R. T. Sitetack: A deep learning model that improves PTM prediction by using known PTMs. bioRxiv [Preprint]. June 4, 2024. Available from https://doi.org/10.1101/2024.06.30.596298.</p>

    </div>

    <!-- Include Bootstrap JS and its dependencies -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- link script.js -->
    <script src="/frontend/script.js"></script>
</body>
</html>
